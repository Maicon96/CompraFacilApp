<ion-header>

  <ion-navbar color="primary">
    <ion-title>{{ titulo }}
      <ion-fab right>
        <ion-icon name="md-trash"></ion-icon>
      </ion-fab>
    </ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding>    

  <div class="bar">
    <div class="valorTotal">
      <ion-icon name="cart" class="carrinhoIcon" item-start></ion-icon>
      <div style="float: right">
        <p class="carrinho">Carrinho</p>
        <p class="valorTotalTexto">{{ valor_total | currency:'BRL':true }}</p>
      </div>
    </div>
    <div class="valorGastar">
      <ion-icon name="md-calculator" class="calculadora" item-start></ion-icon>
      <div style="float: right">
        <p class="total">Valor a gastar</p>
        <p class="valorGastarTexto">{{ valor_gastar | currency:'BRL':true }}</p>
      </div>
    </div>
  </div>

  <ion-refresher (ionRefresh)="doRefresh($event)">
      <ion-refresher-content 
        pullingIcon="arrow-dropdown" 
        pullingText="Puxar para atualizar" 
        refreshingSpinner="circles"
        refreshingText="Atualizando...">
      </ion-refresher-content>
    </ion-refresher>

  <ion-list class="listaProduto">
    <ion-item-sliding #slidingItem *ngFor="let produto of produtos">
      <ion-item class="listaProdutos" #item (click)="openSliding(slidingItem, item)">
        <!--<ion-checkbox [(ngModel)]="delProduto"></ion-checkbox>-->
        <ion-thumbnail item-start>
          <img src="assets/imgs/no-image.png">
          <!--  <img src="assets/imgs/ofertas/coca.jpg" alt="">-->
        </ion-thumbnail>
        <!--<ion-avatar item-start>
          <img src="assets/imgs/no-image.png">
        </ion-avatar>-->
        <div>
          <h2>
            <strong>{{ produto.descricao }}</strong>
          </h2>
        </div>
        <div>
          <!--<h3>Preço: R$ {{produto.preco.toFixed(2)}}</h3>-->          
          <h3>Preço: {{ produto.preco | currency:'BRL':true }}</h3>          
          <h3>Quantidade:{{ produto.quantidade | currency:' ':true }}</h3>
          <h3 class="totalItem"><strong>Total: {{ (produto.preco * produto.quantidade) | currency:'BRL':true }}</strong></h3>
        </div>
      </ion-item>

      <ion-item-options side="right">
        <button ion-button color="edit" (click)="editarProduto(produto.id, produto.descricao, produto.preco, produto.quantidade)">
          <ion-icon name="md-create"></ion-icon>
          Editar
        </button>
        <button ion-button color="delete" (click)="excluirProduto(produto.id)">
          <ion-icon name="md-trash"></ion-icon>
          Excluir
        </button>
      </ion-item-options>

    </ion-item-sliding>
  </ion-list>

  <ion-fab bottom right>
    <button ion-fab>
      <ion-icon name="add"></ion-icon>
    </button>
    <ion-fab-list side="top">

      <button ion-fab (click)="abrirModalProduto()">
        <ion-icon name="add"></ion-icon>
        <div class="label">Inserir Manualmente</div>
      </button>

      <button ion-fab (click)="abrirModalBuscarProduto()">
        <ion-icon name="md-search"></ion-icon>
        <div class="label" dir="rtl">Buscar Item</div>
      </button>

      <button ion-fab (click)="lerBarcode()">
        <ion-icon name="md-barcode"></ion-icon>
        <div class="label" dir="rtl">Ler Código de Barras</div>
      </button>

    </ion-fab-list>
  </ion-fab>


</ion-content>